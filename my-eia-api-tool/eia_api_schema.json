{
  "name": "call_eia_api",
  "description": "Call the EIA (U.S. Energy Information Administration) API to retrieve energy data. This function handles authentication, request formatting, and response parsing automatically.",
  "parameters": {
    "type": "object",
    "properties": {
      "endpoint": {
        "type": "string",
        "description": "The EIA API v2 endpoint path (e.g., 'v2/seriesid/ELEC.GEN.ALL-US-99.A/data/'). Do not include the base URL.",
        "examples": [
          "v2/seriesid/ELEC.GEN.ALL-US-99.A/data/",
          "v2/seriesid/NG.RNGWHHD.D/data/",
          "v2/seriesid/PET.WCESTUS1.W/data/",
          "v2/total-energy/data/"
        ]
      },
      "api_key": {
        "type": "string",
        "description": "EIA API key. If not provided, will attempt to load from EIA_API_KEY environment variable.",
        "required": false
      },
      "params": {
        "type": "object",
        "description": "Additional query parameters to include in the request (e.g., date ranges, filters).",
        "required": false,
        "properties": {
          "start": {
            "type": "string",
            "description": "Start date for data (format: YYYY-MM-DD)"
          },
          "end": {
            "type": "string",
            "description": "End date for data (format: YYYY-MM-DD)"
          },
          "frequency": {
            "type": "string",
            "description": "Data frequency (e.g., 'monthly', 'annual')"
          }
        }
      }
    },
    "required": ["endpoint"]
  },
  "returns": {
    "type": "object",
    "description": "EIA API response containing energy data",
    "properties": {
      "response": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "description": "Array of data points with period, value, and metadata"
          },
          "description": {
            "type": "string",
            "description": "Description of the data series"
          },
          "unit": {
            "type": "string",
            "description": "Unit of measurement for the data"
          }
        }
      },
      "request": {
        "type": "object",
        "description": "Request metadata including API version and parameters used"
      },
      "apiVersion": {
        "type": "string",
        "description": "EIA API version used"
      }
    }
  },
  "error_responses": {
    "400": "Bad Request - Invalid parameters or endpoint",
    "401": "Unauthorized - Invalid or missing API key",
    "404": "Not Found - Invalid endpoint or series ID",
    "429": "Too Many Requests - Rate limit exceeded",
    "500": "Internal Server Error - EIA API server error",
    "504": "Gateway Timeout - EIA API server timeout"
  },
  "examples": [
    {
      "description": "Get monthly electricity generation data for the US",
      "call": {
        "endpoint": "v2/seriesid/ELEC.GEN.ALL-US-99.A/data/"
      }
    },
    {
      "description": "Get natural gas residential prices with date range",
      "call": {
        "endpoint": "v2/seriesid/NG.RNGWHHD.D/data/",
        "params": {
          "start": "2020-01-01",
          "end": "2023-12-31"
        }
      }
    },
    {
      "description": "Get petroleum weekly stocks data",
      "call": {
        "endpoint": "v2/seriesid/PET.WCESTUS1.W/data/"
      }
    }
  ],
  "common_endpoints": {
    "electricity": {
      "generation": "v2/seriesid/ELEC.GEN.ALL-US-99.A/data/",
      "consumption": "v2/seriesid/ELEC.CONS_TOT.COW-US-98.M/data/",
      "prices": "v2/seriesid/ELEC.PRICE.US-ALL.M/data/"
    },
    "natural_gas": {
      "residential_prices": "v2/seriesid/NG.RNGWHHD.D/data/",
      "production": "v2/seriesid/NG.N9070US2.M/data/",
      "consumption": "v2/seriesid/NG.N9140US2.M/data/"
    },
    "petroleum": {
      "weekly_stocks": "v2/seriesid/PET.WCESTUS1.W/data/",
      "prices": "v2/seriesid/PET.RWTC.D/data/",
      "imports": "v2/seriesid/PET.WCRIMUS2.W/data/"
    },
    "renewable_energy": {
      "wind_generation": "v2/seriesid/ELEC.GEN.WND-US-99.M/data/",
      "solar_generation": "v2/seriesid/ELEC.GEN.TSN-US-99.M/data/"
    },
    "emissions": {
      "co2_transportation": "v2/seriesid/EMISS.CO2-TOTV-TT-TO-US.A/data/",
      "co2_electric_power": "v2/seriesid/EMISS.CO2-TOTV-EC-TO-US.A/data/"
    }
  },
  "usage_notes": [
    "API key must be obtained from EIA website (https://www.eia.gov/opendata/register.php)",
    "Rate limits apply - avoid excessive requests",
    "Some endpoints may have data availability restrictions",
    "Use the EIA API browser (https://www.eia.gov/opendata/browser/) to discover available series",
    "Data is typically returned in JSON format with metadata"
  ]
}
